<!DOCTYPE html>
<html>

<head>
	<link rel="stylesheet" href="../signup.css">
	<title>Login/Sign up</title>
</head>

<body>
	<section class="container">
		</div>

		<body>
			<ul>
				<li class="navbar">
				<li><a href="#home">Home</a></li>
				<li><a href="#blog">Blog</a></li>
				<li><a href="#suprise me">Surprise Me</a></li>
				<li style="float:right"><a href="login.html">Login</a></li>
				<li style="float:right"><a href="#about us">About Us</a></li>
			</ul>

				<div class="split right">
					<h1>New to the site?</h1>
					<p>Sign up to take part in discussions, post your own recipes and give reviews!</p>
					<div class="signup">

						<input type="text" id="email" name="email" placeholder="Enter Email" />
						<input type="text" id="username" name="username" placeholder="Enter Username" />
						<input type="password" id="password" name="password" placeholder="Enter Password" />
						<input type="submit" id="uSignUp" name="signup_submit" value="Sign Up" />

					</div>
				</div>
			</div>
		</body>

		<script type="module">

			// All code below used and/or adapted from https://firebase.google.com/docs/auth/web/start?hl=en&authuser=0#web-version-9_1

			// Import the functions you need from the SDKs you need
			import { initializeApp } from "https://www.gstatic.com/firebasejs/9.19.1/firebase-app.js";
			import { getDatabase } from "https://www.gstatic.com/firebasejs/9.19.1/firebase-database.js";
			import { getAuth, createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/9.19.1/firebase-auth.js";


			// TODO: Add SDKs for Firebase products that you want to use
			// https://firebase.google.com/docs/web/setup#available-libraries

			// Your web app's Firebase configuration
			// For Firebase JS SDK v7.20.0 and later, measurementId is optional
			const firebaseConfig = {
				apiKey: "AIzaSyB4MaPQRuTJtGr57hT6-CMwmAUBALqAkKA",
				authDomain: "food-recipe-site-a9b34.firebaseapp.com",
				databaseURL: "https://food-recipe-site-a9b34-default-rtdb.europe-west1.firebasedatabase.app",
				projectId: "food-recipe-site-a9b34",
				storageBucket: "food-recipe-site-a9b34.appspot.com",
				messagingSenderId: "608052694362",
				appId: "1:608052694362:web:a5abf05de0810ae217b763",
				measurementId: "G-XBY7JES9ER"
			};
			// Initialize Firebase
			const app = initializeApp(firebaseConfig);
			const database = getDatabase(app);
			const auth = getAuth();

			uSignUp.addEventListener('click', (e) => {

				var email = document.getElementById('email').value;
				var username = document.getElementById('username').value;
				var password = document.getElementById('password').value;

				createUserWithEmailAndPassword(auth, email, password)
					.then((userCredential) => {
						// Signed in 
						const user = userCredential.user;
						alert('Account created successfully')
						// ...
					})
					.catch((error) => {
						const errorCode = error.code;
						const errorMessage = error.message;

						alert(errorMessage);
						// ..
					});

			})


		</script>

</html>